{"ast":null,"code":"import API from './api';\nconst register = async (name, email, password, role) => {\n  const response = await API.post(`/auth/register`, {\n    name,\n    email,\n    password,\n    role\n  });\n  return response.data;\n};\nconst signup = async (name, email, password) => {\n  const response = await API.post('/auth/signup', {\n    name,\n    email,\n    password\n  });\n  return response.data;\n};\nconst login = async (email, password) => {\n  const response = await API.post(`/auth/login`, {\n    email,\n    password\n  });\n  if (response.data.token) {\n    localStorage.setItem('user', JSON.stringify(response.data));\n  }\n  return response.data;\n};\nconst logout = () => {\n  localStorage.removeItem('user');\n};\nconst getCurrentUser = () => {\n  try {\n    return JSON.parse(localStorage.getItem('user'));\n  } catch (e) {\n    return null;\n  }\n};\nconst fetchProfile = async () => {\n  try {\n    const response = await API.get('/auth/me');\n    return response.data;\n  } catch (err) {\n    return null;\n  }\n};\nconst isAdmin = () => {\n  const user = getCurrentUser();\n  return user && user.user.role === 'admin';\n};\nconst isStudent = () => {\n  const user = getCurrentUser();\n  return user && user.user.role === 'student';\n};\nconst authService = {\n  register,\n  login,\n  logout,\n  getCurrentUser,\n  isAdmin,\n  isStudent,\n  fetchProfile,\n  signup\n};\nexport default authService;","map":{"version":3,"names":["API","register","name","email","password","role","response","post","data","signup","login","token","localStorage","setItem","JSON","stringify","logout","removeItem","getCurrentUser","parse","getItem","e","fetchProfile","get","err","isAdmin","user","isStudent","authService"],"sources":["C:/Users/Dilip/Desktop/HMS/MHS/hostel-management-frontend/src/services/authService.js"],"sourcesContent":["import API from './api';\r\n\r\nconst register = async (name, email, password, role) => {\r\n  const response = await API.post(`/auth/register`, { name, email, password, role });\r\n  return response.data;\r\n};\r\n\r\nconst signup = async (name, email, password) => {\r\n  const response = await API.post('/auth/signup', { name, email, password });\r\n  return response.data;\r\n};\r\n\r\nconst login = async (email, password) => {\r\n  const response = await API.post(`/auth/login`, { email, password });\r\n  if (response.data.token) {\r\n    localStorage.setItem('user', JSON.stringify(response.data));\r\n  }\r\n  return response.data;\r\n};\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem('user');\r\n};\r\n\r\nconst getCurrentUser = () => {\r\n  try {\r\n    return JSON.parse(localStorage.getItem('user'));\r\n  } catch (e) {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst fetchProfile = async () => {\r\n  try {\r\n    const response = await API.get('/auth/me');\r\n    return response.data;\r\n  } catch (err) {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst isAdmin = () => {\r\n  const user = getCurrentUser();\r\n  return user && user.user.role === 'admin';\r\n};\r\n\r\nconst isStudent = () => {\r\n  const user = getCurrentUser();\r\n  return user && user.user.role === 'student';\r\n};\r\n\r\nconst authService = {\r\n  register,\r\n  login,\r\n  logout,\r\n  getCurrentUser,\r\n  isAdmin,\r\n  isStudent,\r\n  fetchProfile,\r\n  signup,\r\n};\r\n\r\nexport default authService;"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,IAAI,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,KAAK;EACtD,MAAMC,QAAQ,GAAG,MAAMN,GAAG,CAACO,IAAI,CAAC,gBAAgB,EAAE;IAAEL,IAAI;IAAEC,KAAK;IAAEC,QAAQ;IAAEC;EAAK,CAAC,CAAC;EAClF,OAAOC,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,MAAMC,MAAM,GAAG,MAAAA,CAAOP,IAAI,EAAEC,KAAK,EAAEC,QAAQ,KAAK;EAC9C,MAAME,QAAQ,GAAG,MAAMN,GAAG,CAACO,IAAI,CAAC,cAAc,EAAE;IAAEL,IAAI;IAAEC,KAAK;IAAEC;EAAS,CAAC,CAAC;EAC1E,OAAOE,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,MAAME,KAAK,GAAG,MAAAA,CAAOP,KAAK,EAAEC,QAAQ,KAAK;EACvC,MAAME,QAAQ,GAAG,MAAMN,GAAG,CAACO,IAAI,CAAC,aAAa,EAAE;IAAEJ,KAAK;IAAEC;EAAS,CAAC,CAAC;EACnE,IAAIE,QAAQ,CAACE,IAAI,CAACG,KAAK,EAAE;IACvBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ,CAACE,IAAI,CAAC,CAAC;EAC7D;EACA,OAAOF,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,MAAMQ,MAAM,GAAGA,CAAA,KAAM;EACnBJ,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;AAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAC3B,IAAI;IACF,OAAOJ,IAAI,CAACK,KAAK,CAACP,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAC,CAAC;EACjD,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACF,CAAC;AAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;EAC/B,IAAI;IACF,MAAMhB,QAAQ,GAAG,MAAMN,GAAG,CAACuB,GAAG,CAAC,UAAU,CAAC;IAC1C,OAAOjB,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOgB,GAAG,EAAE;IACZ,OAAO,IAAI;EACb;AACF,CAAC;AAED,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACpB,MAAMC,IAAI,GAAGR,cAAc,CAAC,CAAC;EAC7B,OAAOQ,IAAI,IAAIA,IAAI,CAACA,IAAI,CAACrB,IAAI,KAAK,OAAO;AAC3C,CAAC;AAED,MAAMsB,SAAS,GAAGA,CAAA,KAAM;EACtB,MAAMD,IAAI,GAAGR,cAAc,CAAC,CAAC;EAC7B,OAAOQ,IAAI,IAAIA,IAAI,CAACA,IAAI,CAACrB,IAAI,KAAK,SAAS;AAC7C,CAAC;AAED,MAAMuB,WAAW,GAAG;EAClB3B,QAAQ;EACRS,KAAK;EACLM,MAAM;EACNE,cAAc;EACdO,OAAO;EACPE,SAAS;EACTL,YAAY;EACZb;AACF,CAAC;AAED,eAAemB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}